(this["webpackJsonpreact-task-tracker"]=this["webpackJsonpreact-task-tracker"]||[]).push([[0],{152:function(e,t,n){},154:function(e,t,n){},252:function(e,t,n){},257:function(e,t,n){},258:function(e,t,n){},259:function(e,t,n){},260:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),a=n.n(c),s=n(29),i=n.n(s),o=(n(152),n(92),n(45)),l=n(6),u=n(14),j=n.n(u),d=n(23),h=n(143);var b=function(){var e=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://ch22-api.herokuapp.com","/auth/login"),{credentials:"include",method:"POST",body:JSON.stringify({token:t.tokenId}),headers:{"Content-Type":"application/json"}});case 2:200!=e.sent.status?console.log("Sending failed. Please try again."):window.location.href="#/dashboard";case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{children:Object(r.jsx)(h.GoogleLogin,{clientId:"518828783452-4vdk5panaua9s8entiv5ljoqvbo7l4j5.apps.googleusercontent.com",onSuccess:e,onFailure:function(e){console.log("Error: unable to login with Google Authentication."),console.log(e)},buttonText:"Sign in with Google"})})},p=n.p+"static/media/nomad.ddb9a5b3.png";var x=function(){return n(154),Object(r.jsx)("div",{class:"landing-page",children:Object(r.jsxs)("div",{class:"landing-page-flex",children:[Object(r.jsxs)("div",{class:"landing-description",children:[Object(r.jsx)("h1",{class:"landing-page__header",children:"Journable"}),Object(r.jsx)("h4",{class:"landing-page__description",children:"Think, Write, Live"}),Object(r.jsx)(b,{})]}),Object(r.jsx)("img",{src:p,alt:"this is gaming!",style:{height:"auto"}})]})})},O=n(7),f=n(146),g=n(91),m=n(144),v=n(102),y=(n(251),n(55)),k=n(66),w=n(44),S=n.p+"static/media/logo.4b3c2850.png";var C=function(){return n(252),Object(r.jsxs)(k.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",fixed:"top",children:[Object(r.jsxs)(k.a.Brand,{href:"#/dashboard",children:[Object(r.jsx)("img",{alt:"",src:S,width:"30",height:"30",className:"d-inline-block align-top"})," ","Journable"]}),Object(r.jsx)(k.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(r.jsxs)(k.a.Collapse,{id:"responsive-navbar-nav",children:[Object(r.jsx)(w.a,{children:Object(r.jsx)(w.a.Link,{href:"#/dashboard",children:"Dashboard"})}),Object(r.jsx)(w.a,{className:"me-auto",children:Object(r.jsx)(w.a.Link,{href:"#/journal",children:"Create a new Journal"})}),Object(r.jsx)(w.a,{children:Object(r.jsx)(w.a.Link,{href:"/",children:"Sign out"})})]})]})},T=n(15),N=function(e){var t=e.promptType,n=Object(c.useState)(""),a=Object(O.a)(n,2),s=a[0],i=a[1];Object(c.useEffect)((function(){o()}),[]);var o=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:t=e.sent,console.log(t),i(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(d.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://ch22-api.herokuapp.com","/prompt?prompt=").concat(t),{method:"GET",credentials:"include"});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(T.a,{border:"primary",style:{width:"18rem",textAlign:"center"},children:[Object(r.jsxs)(T.a.Body,{children:[void 0!==s.pre_text?Object(r.jsx)(T.a.Text,{children:s.pre_text}):null,Object(r.jsx)(T.a.Text,{children:s.text}),Object(r.jsx)(T.a.Text,{children:s.name})]}),Object(r.jsx)("button",{className:"btn btn-primary",onClick:o,children:"Refresh "})]})},J=function(){n(257);var e=Object(c.useState)(""),t=Object(O.a)(e,2),a=t[0],s=t[1],i=Object(c.useState)(v.EditorState.createEmpty()),o=Object(O.a)(i,2),l=o[0],u=o[1],h=Object(c.useState)(!1),b=Object(O.a)(h,2),p=b[0],x=b[1],k=["generic","entity","sentence"].map((function(e){return Object(r.jsx)(N,{promptType:e})})),w=function(){return x(!1)},S=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,r,c,s,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a,r=l.getCurrentContent().getPlainText("\x01"),c={title:n,text:r},console.log(c),e.next=7,fetch("".concat("https://ch22-api.herokuapp.com","/journal"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(c)});case 7:return s=e.sent,e.next=10,s.text();case 10:i=e.sent,console.log(i),window.location.href="#/details/"+i;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsx)(C,{}),Object(r.jsx)("div",{className:"editor",style:{width:800,height:"100%",backgroundColor:"white"},children:Object(r.jsxs)(f.a,{style:{width:"90%",marginLeft:"5%"},children:[Object(r.jsxs)("div",{class:"form-group",children:[Object(r.jsx)("label",{for:"title",style:{fontWeight:"bold",fontSize:"25px"},children:"Title"}),Object(r.jsx)("input",{type:"text",class:"form-control",id:"title",placeholder:"Title goes here",onChange:function(e){return s(e.target.value)},style:{border:"1px solid black"}})]}),Object(r.jsx)("div",{style:{border:"1px solid black",padding:"2px",minHeight:"580px"},children:Object(r.jsx)(m.Editor,{value:l.getCurrentContent,onEditorStateChange:u})}),Object(r.jsx)(g.a,{variant:"primary",onClick:function(){return x(!0)},children:"Save Journal"}),Object(r.jsxs)(y.a,{show:p,onHide:w,animation:!1,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Save Journal"})}),Object(r.jsx)(y.a.Body,{children:"Do you want to save your journal?"}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(g.a,{variant:"secondary",onClick:w,children:"Close"}),Object(r.jsx)(g.a,{variant:"primary",onClick:S,disabled:!function(){return console.log(l.getCurrentContent.length),console.log(a.length),l.getCurrentContent.length>0&&a.length>0},children:"Save"})]})]})]})}),Object(r.jsx)("div",{class:"entity-group",children:k})]})},E=n(52),D=function(){var e=Object(l.g)().journalID,t=Object(c.useState)({text:"",sentiment:{score:0,magnitude:0},entities:[],sentences:{positive:[],negative:[]}}),a=Object(O.a)(t,2),s=a[0],i=a[1];n(258),Object(c.useEffect)((function(){(function(){var e=Object(d.a)(j.a.mark((function e(){var t,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:null!=(t=e.sent)&&(n=t.text,r=n.replace(/\u0001/g,"\n"),t.text=r,console.log(t.text),i(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var o=function(){var t=Object(d.a)(j.a.mark((function t(){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,fetch("".concat("https://ch22-api.herokuapp.com","/journal?id=").concat(e),{method:"GET",credentials:"include"});case 3:if(200!=(n=t.sent).status){t.next=12;break}return t.next=7,n.json();case 7:return r=t.sent,console.log(r),t.abrupt("return",r);case 12:return t.abrupt("return",null);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();var u=s.sentences.positive.map((function(e){return Object(r.jsx)("div",{onClick:function(){return h(e.text)},children:Object(r.jsxs)(T.a,{className:"sentence-cards",style:{backgroundColor:"green",color:"white"},children:[Object(r.jsx)(T.a.Body,{children:Object(r.jsx)(T.a.Text,{children:Object(r.jsx)("p",{children:e.text})})}),Object(r.jsx)(T.a.Footer,{})]})})})),h=function(e){console.log(e)},b=s.sentences.negative.map((function(e){return Object(r.jsx)("div",{onClick:function(){return h(e.text)},children:Object(r.jsxs)(T.a,{className:"sentence-cards",style:{backgroundColor:"red",color:"white"},children:[Object(r.jsx)(T.a.Body,{children:Object(r.jsx)(T.a.Text,{children:Object(r.jsx)("p",{children:e.text})})}),Object(r.jsx)(T.a.Footer,{})]})})}));return Object(r.jsxs)("div",{style:{backgroundPosition:"center",height:"100vh"},children:[Object(r.jsx)(C,{}),Object(r.jsxs)("div",{class:"d-flex justify-content-center main-div",style:{whiteSpace:"pre-wrap"},children:[Object(r.jsxs)(E.a,{className:"bodyContainer",children:[Object(r.jsx)("h1",{style:{marginBottom:"5%"},children:s.title}),Object(r.jsx)("h5",{style:{marginBottom:"5%"},children:function(e){var t=new Date(1e3*e),n=t.getFullYear(),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()];return t.getDate()+" "+r+" "+n+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}(s.time_created)}),Object(r.jsx)("p",{children:function(e){var t=e.split(/([.?!])/);return(t=Array.from({length:Math.ceil(t.length/2)},(function(e,n){return t[2*n]+(2*n+1<t.length?t[2*n+1]:"")}))).map((function(e){return function(e){var t=s.sentences.positive.map((function(e){return e.text})).includes(e.trim()),n=s.sentences.negative.map((function(e){return e.text})).includes(e.trim());return t?Object(r.jsx)("span",{style:{color:"green"},children:e}):n?Object(r.jsx)("span",{style:{color:"red"},children:e}):Object(r.jsx)("span",{children:e})}(e)}))}(s.text)})]}),Object(r.jsxs)(E.a,{className:"sentences",children:[u,b]})]})]})},B=function(){n(259);var e=Object(c.useState)({journals:[]}),t=Object(O.a)(e,2),a=t[0],s=t[1];Object(c.useEffect)((function(){(function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var i=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://ch22-api.herokuapp.com","/journals"),{method:"GET",credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,console.log(n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=a.journals.map((function(e){return Object(r.jsx)(T.a,{className:"card-element",style:{width:"18rem"},children:Object(r.jsxs)(T.a.Body,{children:[Object(r.jsx)(T.a.Title,{children:e.title}),Object(r.jsx)(T.a.Text,{children:e.content}),Object(r.jsx)(o.b,{to:"/details/".concat(e._id),children:Object(r.jsx)("button",{className:"btn btn-primary",children:"View Journal"})}),Object(r.jsx)(T.a.Footer,{children:Object(r.jsx)("small",{className:"text-muted",children:u(e.time_created)})})]})})}));function u(e){var t=new Date(1e3*e),n=t.getFullYear(),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()];return t.getDate()+" "+r+" "+n+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}return Object(r.jsxs)("div",{className:"main-dashboard",children:[Object(r.jsx)(C,{}),Object(r.jsx)("h1",{className:"title",children:"Welcome to your Journable"}),Object(r.jsx)(E.a,{className:"container-box",children:l})]})},M=function(){return Object(r.jsx)(o.a,{children:Object(r.jsxs)(l.c,{children:[Object(r.jsx)(l.a,{path:"/",element:Object(r.jsx)(x,{})}),Object(r.jsx)(l.a,{path:"/journal",element:Object(r.jsx)(J,{})}),Object(r.jsx)(l.a,{path:"/details/:journalID",element:Object(r.jsx)(D,{})}),Object(r.jsx)(l.a,{path:"/dashboard",element:Object(r.jsx)(B,{})})]})})};i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)("div",{children:Object(r.jsx)(M,{})})}),document.getElementById("root"))}},[[260,1,2]]]);
//# sourceMappingURL=main.464368ea.chunk.js.map